fprintf('2020054084 조 은\n');

% 주어진 함수
f = @(x) 4*x - 1.8*x^2 + 1.2*x^3 - 0.3*x^4;

% 초기값 설정
x0 = 1.75;
x1 = 2;
x2 = 2.5;

% 반복 횟수 설정
num_iterations = 4;

fprintf('Iter\t x0\t\t f(x0)\t\t x1\t\t f(x1)\t\t x2\t\t f(x2)\t\t x3\t\t f(x3)\n');
fprintf('-----------------------------------------------------------------------------\n');

for iter = 1:num_iterations
    f_x0 = f(x0);
    f_x1 = f(x1);
    f_x2 = f(x2);

    % 2차 보간식 계산
    a = (f_x2 - f_x0) / ((x2 - x0) * (x2 - x1)) - (f_x1 - f_x0) / ((x1 - x0) * (x2 - x1));
    b = (f_x1 - f_x0) / (x1 - x0) - a * (x0 + x1);
    c = f_x0 - a * x0^2 - b * x0;

    % 최댓값을 가지는 새로운 점 찾기
    x3 = -b / (2 * a);

    f_x3 = f(x3);

    fprintf('%d\t %.6f\t %.6f\t %.6f\t %.6f\t %.6f\t %.6f\t %.6f\t %.6f\n', iter, x0, f_x0, x1, f_x1, x2, f_x2, x3, f_x3);

    % 다음 반복을 위해 새로운 점을 포함하여 초기값 설정
    x0 = x1;
    x1 = x2;
    x2 = x3;
end

fprintf('-----------------------------------------------------------------------------\n');
fprintf('최댓값을 가지는 x: %.6f\n', x3);
fprintf('최댓값: %.6f\n', f_x3);
